<div class="row">
  <div class="col-md-12 ml-auto mr-auto">
    <h3 class="title">いかがでしたか？</h3>
    <h5 class="description">良かったところや改善できるところをレビューを残しましょう。</h5>
    <div class="space-top"></div>
  </div>
</div>

<div class="row">
  <div class="col-md-10 ml-auto mr-auto">
    <div class="table-responsive">
      <table class="table table-shopping">
        <thead>
          <tr>
            <th class="text-center">会える人</th>
            <th>日時</th>
            <th>連絡をとる</th>
            <th>状態</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let booking of bookings; let i = index">
            <tr *ngIf="isExpired(booking.startAt) && booking.status==='active'">
              <td class="td-product">
                <a routerLink="/rentals/{{ booking.rental._id }}">
                  <div class="img-container">
                    <img class="img" src="{{ booking.rental.image }}" />
                  </div>
                  <br>
                  <strong>{{ booking.rental.rentalname }}</strong>
                </a>
              </td>
              <td class="td-product">
                <img src="./assets/img/icons/googlemap.png" alt="LINEで待ち合わせ場所調整する">
                <p>場所の確認</p>
              </td>
              <td class="td-product">
                <app-review *ngIf="!booking.review" [bookingId]="booking._id" (reviewSubmitted)="reviewHandler(i, $event)"></app-review>
                <div *ngIf="booking.review">
                  <button class="btn btn-gray" disabled>レビュー済</button>
                </div>
              </td>
              <td class="td-product">
                <p>Date: {{ booking.startAt |  date: "yyyy/MM/dd" }}</p>
                <p>Start: {{ booking.startAt |  date: "HH:mm" }}</p>
                <p>{{ booking.courseTime }} min</p>
              </td>
              <td>Finished</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>